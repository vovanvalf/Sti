<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Sti.Web.BrokerAdmin">
<Description>
Private request processor for administrator</Description>
<Super>%CSP.REST</Super>
<TimeCreated>63098,81405.67207</TimeCreated>

<Parameter name="UseSession">
<Type>Integer</Type>
<Default>1</Default>
</Parameter>

<XData name="UrlMap">
<Data><![CDATA[
<Routes>

<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- Получить всех стажеров -->
<Route Url="/intern" Method="GET" Call="Sti.Web.JsonAdmin:GetInterns"/> 

<!-- Получить стажера по ИД -->
<Route Url="/intern/:id" Method="GET" Call="Sti.Web.JsonAdmin:GetIntern"/> 

<!-- Сохранить / создать стажера -->
<Route Url="/intern" Method="POST" Call="Sti.Web.JsonAdmin:SaveIntern"/> 

<!-- Удалить стажера -->
<Route Url="/intern/:id" Method="DELETE" Call="Sti.Web.JsonAdmin:DeleteIntern"/> 

<!-- GET ALL [GRID], Intern -->
<Route Method="POST" Url="/intern/grid" Call="Sti.Web.JsonAdmin:GetInternsForGrid"/>


<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- Все университеты -->
<Route Url="/university" Method="GET" Call="Sti.Web.JsonAdmin:GetUniversitys"/> 

<!-- Все стажеры университета -->
<Route Url="/university/:id/intern" Method="GET" Call="Sti.Web.JsonAdmin:GetUniversityInterns"/> 

<!-- Получить университет по ИД -->
<Route Url="/university/:id" Method="GET" Call="Sti.Web.JsonAdmin:GetUniversity"/> 

<!-- Сохранить / создать университет -->
<Route Url="/university" Method="POST" Call="Sti.Web.JsonAdmin:SaveUniversity"/> 

<!-- Удалить университет -->
<Route Url="/university/:id" Method="DELETE" Call="Sti.Web.JsonAdmin:DeleteUniversity"/> 

<!-- GET ALL [GRID], Intern -->
<Route Method="POST" Url="/university/grid" Call="Sti.Web.JsonAdmin:GetUniversitiesForGrid"/>



<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- Все компании -->
<Route Url="/company" Method="GET" Call="Sti.Web.JsonAdmin:GetCompanies"/> 

<!-- Все стажеровки компании -->
<Route Url="/company/:id/internship" Method="GET" Call="Sti.Web.JsonAdmin:GetCompanyInternship"/> 

<!-- Получить компанию по ИД -->
<Route Url="/company/:id" Method="GET" Call="Sti.Web.JsonAdmin:GetCompany"/> 

<!-- Сохранить / создать компанию -->
<Route Url="/company" Method="POST" Call="Sti.Web.JsonAdmin:SaveCompany"/> 

<!-- Удалить компанию -->
<Route Url="/company/:id" Method="DELETE" Call="Sti.Web.JsonAdmin:DeleteCompany"/> 

<!-- GET ALL [GRID], Companies -->
<Route Method="POST" Url="/company/grid" Call="Sti.Web.JsonAdmin:GetCompaniesForGrid"/>



<!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<!-- Получить все стажировки -->
<Route Url="/internship" Method="GET" Call="Sti.Web.JsonAdmin:GetInternships"/> 

<!-- Получить стажировку по ИД -->
<Route Url="/internship/:id" Method="GET" Call="Sti.Web.JsonAdmin:GetInternship"/> 

<!-- Сохранить / создать стажировку -->
<Route Url="/internship" Method="POST" Call="Sti.Web.JsonAdmin:SaveInternship"/> 

<!-- Удалить стажировку -->
<Route Url="/internship/:id" Method="DELETE" Call="Sti.Web.JsonAdmin:DeleteInternship"/> 

<!-- GET ALL [GRID], Internship -->
<Route Method="POST" Url="/internship/grid" Call="Sti.Web.JsonAdmin:GetInternshipsForGrid"/>

</Routes>
]]></Data>
</XData>

<Method name="Http404">
<Description>
Issue an '404' error ( user can override)</Description>
<ClassMethod>1</ClassMethod>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	&html<<h3 style="color:red">Страница не найдена!!!</h3>>
    Set %response.Status="404 Not Found"
    Quit $$$OK
]]></Implementation>
</Method>
</Class>
</Export>
