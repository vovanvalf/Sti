<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Sti.Utils.Msg">
<TimeCreated>63147,18153.813301</TimeCreated>

<Parameter name="DOMAIN">
<Default>Sti</Default>
</Parameter>

<Method name="GetErrorStatus">
<Description>
Get error status by key</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>errorKey:%String,additionalMsg:%String=""</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[	quit $system.Status.Error(5001, ..GetMsg(errorKey)_" "_additionalMsg)
]]></Implementation>
</Method>

<Method name="GetMsg">
<Description>
Get localized error message</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>key</FormalSpec>
<ReturnType>%String</ReturnType>
<Implementation><![CDATA[	quit $GET(^CacheMsg("Sti", $$$SessionLanguage, key), "- "_key_" -")
]]></Implementation>
</Method>

<Method name="SetMsg">
<Description>
Set localized </Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>key,value</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	s ^CacheMsg("Sti", $$$SessionLanguage, key) = value
	quit $$$OK
]]></Implementation>
</Method>

<Method name="AddDeepSeeMsg">
<ClassMethod>1</ClassMethod>
<FormalSpec>rusString:%String,engString:%String</FormalSpec>
<Implementation><![CDATA[
	set code = $ZCRC(rusString, 7)
	set ^CacheMsg("Sti", "ru", code) = rusString
	set ^CacheMsg("Sti", "en", code) = engString
	set ^CacheMsg("Sti", "en-us", code) = engString
]]></Implementation>
</Method>
</Class>
</Export>
